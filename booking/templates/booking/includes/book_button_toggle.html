
{% load bookingtags %}

{% if alert_message %}
    {% if alert_message.message_type == 'warning' %}
        <script>vNotify.warning({text:'{{ alert_message.message }}',title:'{{ event }}',position: 'bottomLeft',});</script>
    {% elif alert_message.message_type == 'success' %}
        <script>vNotify.success({text:'{{ alert_message.message }}',title:'{{ event }}',position: 'bottomLeft',});</script>
    {% elif alert_message.message_type == 'error' %}
        <script>vNotify.error({text:'{{ alert_message.message }}',title:'{{ event }}',position: 'bottomLeft',});</script>
    {% else %}
        <script>vNotify.info({text:'{{ alert_message.message }}',title:'{{ event }}',position: 'bottomLeft',});</script>
    {% endif %}
{% endif %}

{% if booking and booking.status == "OPEN" and not booking.no_show %}
    {% get_payment_button booking event.event_type request.GET.name request.GET.venue page_obj.number %}
{% else %}
    <button class="btn table-btn btn-warning book_button">{% if ref == 'bookings' or booking %}Rebook{% else %}Book{% endif %}
        {% if event.members_only %}  <span class="label label-primary label-membership">Members only</span>{% endif %}</button>
{% endif %}
